<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HadadaHealth — Practice Management with Built‑in AI</title>
  <meta name="description" content="HadadaHealth is a South African practice management platform with built‑in AI: clinician dashboard, AI reports & handovers, secure hosting, and PWA offline support. Launching January 2026 — early adopters can test and shape the app." />
  <style>
    :root{
      --green:#2D6356;     /* Deep Green */
      --blue:#32517A;      /* Slate Blue */
      --burgundy:#96364C;  /* Muted Burgundy */
      --sage:#CDD3CE;      /* Soft Sage Grey */
      --off:#F9F8F8;       /* Off‑White */
      --ink:#0f1412;       /* Near Black */
      --ink-2:#26302c;
      --pad:12px; /* global page padding */
      --nav-h:64px;

    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif; color:var(--ink); background:var(--off); padding:var(--pad); padding-top:calc(var(--pad) + var(--nav-h));}
    @media (min-width: 900px){
      :root{ --pad:24px; }
    }
    a{color:inherit}
    .container{max-width:1800px; margin:0 auto; padding:0 var(--pad)}

    /* Header */
    header{position:fixed; top:0; left:0; right:0; z-index:100; backdrop-filter:saturate(180%) blur(8px); background:rgba(249,248,248,.75);}
header::before{
  content:"";
  position:absolute;
  inset:0;
  left:50%;
  transform:translateX(-50%);
  width:100vw; /* full-bleed background */
  background:rgba(249,248,248,.75);
  border-bottom:1px solid rgba(45,99,86,.12);
  z-index:-1; /* behind header content */
  pointer-events:none;
}
/* Add near the header styles */
header{ transition: box-shadow .2s ease }
body.scrolled header{ box-shadow: 0 8px 20px rgba(0,0,0,.06) }
/* Header layout */
.nav{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding:12px 0;
}
/* Mobile nav toggle (hidden on desktop) */
.nav-toggle{
  display:none;
  align-items:center;
  justify-content:center;
  width:38px; height:38px;
  border:1px solid rgba(45,99,86,.35);
  border-radius:10px;
  background:transparent;
  cursor:pointer;
}
.nav-toggle .material-symbols-outlined{font-size:22px; color:var(--green)}
.nav-toggle:focus{outline:2px solid var(--blue); outline-offset:2px}

/* Slide-down mobile action bar */
.mobile-nav{
  display:none;                /* shown when body.menu-open */
  position:fixed;
  top:var(--nav-h);
  left:0; right:0;
  z-index: 99;         /* just below header (100) */
  background:rgba(249,248,248,.95);
  backdrop-filter:saturate(180%) blur(8px);
  border-bottom:1px solid rgba(45,99,86,.12);
}
/* Slide-down mobile action bar */
.mobile-nav{
  display:none;                /* shown when body.menu-open */
  position:fixed;
  top:var(--nav-h);
  left:0; right:0;
  z-index: 99;                 /* just below header (100) */
  background:rgba(249,248,248,.95);
  backdrop-filter:saturate(180%) blur(8px);
  border-bottom:1px solid rgba(45,99,86,.12);
}

/* When menu is open */
body.menu-open .mobile-nav{ display:block }

.mobile-nav .container{
  display:flex;
  gap:8px;
  padding:10px var(--pad);
  justify-content:center;
}
.mobile-nav a.btn{
  padding:10px 12px;
  font-size:14px;
  border-radius:999px;
  border:1px solid var(--green);
}
.mobile-nav a.secondary{ background:transparent; color:var(--green) }
.mobile-nav a.primary{ background:var(--green); color:#fff }

/* When menu is open */
body.menu-open .mobile-nav{ display:block }
body.menu-open{ overflow:visible } /* prevent background scroll when menu open */

/* Show toggle on small screens, keep desktop as-is */
@media (max-width:640px){
  .nav-links{ display:none }          /* already there, keep hidden */
  .nav-toggle{ display:inline-flex }  /* show hamburger */
}
    .brand{display:flex; align-items:center; gap:12px}
    .logo{width:40px; height:40px; display:grid; place-items:center}
    .logo svg{width:100%; height:100%;}
    .brand h1{font-size:18px; margin:0; letter-spacing:.2px}
    .nav a.btn{padding:10px 14px; border-radius:999px; border:1px solid var(--green); color:#fff; background:var(--green); text-decoration:none; font-size:14px}
    .nav a.btn.secondary{background:transparent; color:var(--green)}
    .nav-links{display:flex; gap:10px; align-items:center}
    .nav a.btn.secondary:hover{transform: translateY(-1px); box-shadow:0 8px 18px rgba(45,99,86,.2)}
    .btn:hover{transform: translateY(-1px); box-shadow:0 8px 18px rgba(45,99,86,.2)}

    /* Hero */
    .hero{
    position:relative; /* keep content within container */
    }
    .hero::before{
      content:"";
      position:absolute;
      top:0; bottom:0;
      left:50%;
      transform:translateX(-50%);
      width:100vw;                /* full viewport width */
      background:
        radial-gradient(1000px 600px at 90% -10%, rgba(45,99,86,.12), transparent 60%),
        radial-gradient(600px 400px at -10% 10%, rgba(50,81,122,.08), transparent 55%);
      z-index:-1;                 /* sit behind content */
      pointer-events:none;
    }
    .hero .wrap{display:grid; grid-template-columns:1fr; gap:18px; padding:44px 0 28px}
    .eyebrow{display:inline-block; text-transform:uppercase; color:var(--green); letter-spacing:.08em; font-size:12px; margin-bottom:8px}
    h2{margin:10px 0 8px}
    .hero h2{font-size:34px; line-height:1.15; color:var(--ink-2)}
    .tagline{color:#394742}
    .cta{display:flex; gap:12px; margin-top:18px}
    .cta a{padding:12px 18px; border-radius:999px; text-decoration:none; font-weight:600; font-size:14px}
    .cta .primary{background:var(--green); color:#fff}
    .cta .ghost{border:1px solid var(--green); color:var(--green); background:transparent}
    .cta .primary{transition: transform .08s ease, box-shadow .2s ease}
    .cta .primary:hover{transform: translateY(-1px); box-shadow:0 8px 18px rgba(45,99,86,.2)}
    .cta .ghost{transition: background .15s ease, color .15s ease}
    .cta .ghost:hover{transform: translateY(-1px); box-shadow:0 8px 18px rgba(45,99,86,.2)}
    a.btn:focus{outline:2px solid var(--blue); outline-offset:2px; border-radius:10px}
    .status{margin-top:16px; border:1px dashed var(--blue); padding:12px 14px; border-radius:12px; background:#eef2f7}
    .status strong{color:var(--blue)}

    /* New development status card (neutral, brand-aligned) */
    .status-card{
      display:flex;
      align-items:flex-start;
      gap:12px;
      margin-top:16px;
      background:#fff;
      border:1px solid #e6e8e7;
      border-radius:12px;
      padding:14px 16px;
      box-shadow:0 4px 16px rgba(0,0,0,.05);
    }
    /* Transparent spacers for header edges */
    .spacer{display:block; width:12px; height:1px; background:transparent}
    @media (max-width:640px){ .spacer{width:8px} }

    .status-icon{
      width:36px;
      height:36px;
      border-radius:50%;
      background:var(--green);
      color:#fff;
      display:grid;
      place-items:center;
      flex:0 0 36px;
    }
    .status-card .material-symbols-outlined{font-size:20px; line-height:1}
    .status-body{font-size:15px; color:var(--ink)}
    .status-body strong{color:var(--ink-2)}
    .status-link{
      color:var(--green);
      text-decoration:underline;
      font-weight:600;
    }

    /* Sections */
    section{padding:4px 0}
    .grid{display:grid; grid-template-columns:repeat(3,1fr); gap:28px}
    .card{position:relative; background:#fff; border:1px solid #e6e8e7; border-radius:16px; padding:28px 20px 22px; margin-top:34px; box-shadow:0 8px 28px rgba(0,0,0,.06)}
    .card h3{margin:6px 0 10px; color:var(--ink-2)}
    .card ul{margin:0; padding-left:18px}
    .card li{margin:6px 0}
    /* Top accent bar sits INSIDE the card and spans full width */
    .feature-cap{
      position:absolute;
      left:0;
      right:0;
      top:0;
      height:12px;
      background:var(--green);
      border-top-left-radius:16px;
      border-top-right-radius:16px;
    }
    .icon-badge{
      position:absolute;
      top:-22px;               /* slightly overlaps the card but bar remains inside */
      left:50%;
      transform:translateX(-50%);
      width:44px;
      height:44px;
      background:var(--green);
      border-radius:50%;
      border:4px solid var(--off);  /* halo matches page background */
      box-shadow:0 2px 6px rgba(0,0,0,.12);
      display:grid;
      place-items:center;
      color:#fff;
    }

    /* Card hover interactions */
.card{
  transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease;
}
.card:hover{
  transform: translateY(-4px);
  box-shadow: 0 16px 40px rgba(0,0,0,.12);
  border-color: rgba(45,99,86,.25);
}
.icon-badge{
  transition: transform .15s ease, box-shadow .2s ease;
}
.card:hover .icon-badge{
  transform: translateX(-50%) translateY(-1px);
  box-shadow: 0 6px 16px rgba(0,0,0,.18);
}

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce){
  .card{ transition: none; }
  .card:hover{ transform: none; box-shadow: 0 8px 28px rgba(0,0,0,.06); }
  .icon-badge{ transition: none; }
  .card:hover .icon-badge{ transform: translateX(-50%); box-shadow: 0 2px 6px rgba(0,0,0,.12); }
}

    .material-symbols-outlined{font-variation-settings:'FILL' 0,'wght' 400,'GRAD' 0,'opsz' 24; font-size:22px; line-height:1}

    .two{display:grid; grid-template-columns:1fr 1fr; gap:16px}

    .callout{
      border-left:5px solid var(--burgundy);
      background:#fff;
      padding:16px 18px;
      border-radius:12px;
      box-shadow:0 6px 20px rgba(0,0,0,.06);
    }

    /* Feature badges */
    .badges{display:flex; gap:8px; flex-wrap:wrap; margin-top:8px}
    .badge{border:1px solid #e1e4e3; background:#fff; padding:8px 10px; border-radius:999px; font-size:12px}
    .badge .material-symbols-outlined{font-size:16px; margin-right:6px; vertical-align:-3px}

    /* Contact Modal */
.modal-overlay{position:fixed; inset:0; background:rgba(0,0,0,.4); display:none; align-items:center; justify-content:center; padding:20px; z-index:1000}
.modal-overlay.active{display:flex}
.modal{background:#fff; border:1px solid #e6e8e7; border-radius:16px; width:min(560px, 100%); padding:20px 20px 16px; box-shadow:0 20px 60px rgba(0,0,0,.18)}
.modal h3{margin:0 0 6px; color:var(--ink-2)}
.modal-sub{margin:0 0 14px; color:#4a5853}
.modal .row{margin-bottom:10px}
.modal label{display:block; font-size:13px; color:#40504a; margin-bottom:6px}
.modal input,.modal textarea{width:100%; border:1px solid #e1e4e3; border-radius:10px; padding:10px 12px; font:inherit; background:#fff}
.modal textarea{min-height:110px; resize:vertical}
.modal .btn.submit{display:inline-block; padding:10px 14px; border-radius:999px; background:var(--green); color:#fff; border:1px solid var(--green); text-decoration:none; font-weight:600}
.modal-close{position:absolute; right:12px; top:8px; width:36px; height:36px; border:0; background:transparent; font-size:26px; line-height:1; color:#7a8a84; cursor:pointer}
.modal-close:hover{color:#000}
.disclaimer{display:block; margin-top:10px; color:#63736d; font-size:12px}
.form-status{margin-top:6px; font-size:13px; color:#40504a}
.form-status.success{color:var(--green)}
.form-status.error{color:var(--burgundy)}

    /* Footer */
    footer{position:relative; background:transparent}
footer::before{
  content:"";
  position:absolute;
  inset:0;
  left:50%;
  transform:translateX(-50%);
  width:100vw;              /* full-bleed background */
  background:#fff;
  border-top:1px solid #e5e7e6;
  z-index:-1;               /* behind the footer content */
  pointer-events:none;
}
    .foot{display:flex; align-items:center; justify-content:space-between; gap:10px; padding:18px 0; flex-wrap:wrap}
    .contact{display:flex; gap:14px; flex-wrap:wrap; font-size:14px}

    /* Responsive */
    @media (max-width:900px){
      .hero .wrap{grid-template-columns:1fr}
      .grid{grid-template-columns:1fr 1fr}
      .two{grid-template-columns:1fr}
    }
    @media (max-width:640px){
      .grid{grid-template-columns:1fr; gap:32px}
      .nav-links{display:none}
      .hero h2{font-size:28px}
    }
   /* Disable hover animation on the Contact card */
#contact .card{ transition:none }
#contact .card:hover{
  transform:none;
  box-shadow:0 8px 28px rgba(0,0,0,.06);
  border-color:#e6e8e7;
}
#contact .card .icon-badge{ transition:none }
#contact .card:hover .icon-badge{
  transform:translateX(-50%);
  box-shadow:0 2px 6px rgba(0,0,0,.12);
}
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="container nav">
      <div class="brand">
        <div class="spacer" aria-hidden="true"></div>
        <div class="logo" aria-hidden="true">
            <img src="{{ url_for('static', path='Hadada Health Logo-4.svg') }}" alt="Hadada Health Logo" style="width:100%; height:100%">
        </div>
        <h1>HadadaHealth</h1>
      </div>
      <div class="nav-links">
        <a class="btn secondary" href="#features">Features</a>
        <a class="btn secondary" href="#contact">Contact</a>
        <a class="btn open-early-modal" href="#">Join Early Adopters</a>
        <div class="spacer" aria-hidden="true"></div>
      </div>
      <button class="nav-toggle" aria-label="Open menu" aria-expanded="false">
        <span class="material-symbols-outlined">menu</span>
      </button>
    </div>
  </header>
  <nav class="mobile-nav" aria-label="Mobile">
    <div class="container">
      <a class="btn secondary" href="#features">Features</a>
      <a class="btn secondary" href="#contact">Contact</a>
      <a class="btn primary open-early-modal" href="#">Join Early Adopters</a>
    </div>
  </nav>
  <!-- Hero -->
  <section class="hero">
    <div class="container wrap">
      <div>
        <span class="eyebrow">Practice Management with Built‑in AI</span>
        <h2>Faster notes, smarter billing, safer data — built for South African healthcare teams.</h2>
        <p class="tagline">Developed by a physiotherapist to go beyond legal note‑keeping, using documentation to enhance holistic, patient‑centred care.</p>
        <div class="cta">
          <a class="primary open-early-modal" href="#">Become an Early Adopter</a>
          <a class="ghost" href="#features">See Key Features</a>
        </div>
        <div class="status-card" role="note" aria-label="Development status">
          <div class="status-icon"><span class="material-symbols-outlined">forum</span></div>
          <div class="status-body">
            <strong>Development status:</strong> In active development. Launching <strong>January 2026</strong>. We’re incorporating clinician feedback to finalise workflows for go‑live.
          </div>
        </div>
        <div class="badges" style="margin-top:10px">
          <div class="badge"><span class="material-symbols-outlined">description</span>AI‑assisted report writing</div>
          <div class="badge"><span class="material-symbols-outlined">verified_user</span>POPIA compliant</div>
          <div class="badge"><span class="material-symbols-outlined">diversity_3</span>Patient‑centred</div>
          <div class="badge"><span class="material-symbols-outlined">stethoscope</span>Clinician‑built</div>
        </div>
      </div>
      <div>
        <div class="callout">
          <strong>Why HadadaHealth Matters</strong>
          <p style="margin:8px 0 0">HadadaHealth blends intuitive design with advanced AI to deliver faster notes, smarter billing, and safer data — hosted within South Africa for POPIA compliance. It empowers clinicians to deliver holistic, continuous care through efficient and insightful documentation.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Features -->
  <section id="features">
    <div class="container">
      <h2 style="margin-bottom:14px; color:var(--ink-2)">Key Features</h2>
      <div class="grid">
        <article class="card">
          <div class="feature-cap"></div>
          <div class="icon-badge"><span class="material-symbols-outlined">dashboard</span></div>
          <span class="eyebrow">1</span>
          <h3>Clinician Dashboard</h3>
          <ul>
            <li>One view of outstanding notes & reports due</li>
            <li>Team, personal, and manager reminders</li>
            <li>Clinical stats to motivate timely billing</li>
            <li>Upcoming appointments & critical alerts</li>
            <li>In‑patient oversight — alerts if not seen</li>
          </ul>
        </article>
        <article class="card">
          <div class="feature-cap"></div>
          <div class="icon-badge"><span class="material-symbols-outlined">description</span></div>
          <span class="eyebrow">2</span>
          <h3>AI‑Integrated Reporting & Handover</h3>
          <ul>
            <li>Report templates (WCA, discharge, MDT updates)</li>
            <li>AI treatment summaries & history updates</li>
            <li>Outcome measures recording with insights</li>
            <li>AI handovers for locum & weekend cover</li>
            <li>Export to Word or PDF</li>
          </ul>
        </article>
        <article class="card">
          <div class="feature-cap"></div>
          <div class="icon-badge"><span class="material-symbols-outlined">calendar_month</span></div>
          <span class="eyebrow">3</span>
          <h3>Scheduling & Workflows</h3>
          <ul>
            <li>Day/week calendar, drag‑and‑drop</li>
            <li>Co‑treatments & side‑by‑side therapist views</li>
            <li>Billing & note‑done tags</li>
            <li>Equipment tracking & patient alerts</li>
            <li>Secure team chat (coming soon)</li>
          </ul>
        </article>
        <article class="card">
          <div class="feature-cap"></div>
          <div class="icon-badge"><span class="material-symbols-outlined">medical_services</span></div>
          <span class="eyebrow">4</span>
          <h3>Medical Aid</h3>
          <ul>
            <li>Built-in email claims submission</li>
            <li>EDI integration <em>(Coming soon)</em></li>
            <li>Payment tracking &amp; reconciliation</li>
            <li>Full claim history &amp; reporting</li>
            <li>Patient portal for authorisation tracking &amp; communication</li>
          </ul>
        </article>
        <article class="card">
          <div class="feature-cap"></div>
          <div class="icon-badge"><span class="material-symbols-outlined">verified</span></div>
          <span class="eyebrow">5</span>
          <h3>Security & Compliance</h3>
          <ul>
            <li>All data on South African servers</li>
            <li>AI on local/private servers</li>
            <li>Encryption in transit & at rest</li>
            <li>Role‑based access & audit logs</li>
          </ul>
        </article>
        <article class="card">
          <div class="feature-cap"></div>
          <div class="icon-badge"><span class="material-symbols-outlined">devices</span></div>
          <span class="eyebrow">6</span>
          <h3>Access Anywhere</h3>
          <ul>
            <li>PWA works offline; auto‑syncs online</li>
            <li>Save to phone home screen</li>
            <li>Responsive on desktop, tablet, mobile</li>
          </ul>
        </article>
      </div>
    </div>
  </section>

  <!-- Roadmap + Early adopters -->
  <section id="adoptors">
    <div class="container two">
      <div class="card">
        <span class="eyebrow">Roadmap</span>
        <h3>Coming Soon: Cross‑Practice Access</h3>
        <p>In our ongoing commitment to seamless patient care, we are developing a ground-breaking feature: Cross-Practice Access. With explicit patient approval, clinicians will be able to view patient records across different practices, significantly improving continuity of care and facilitating joint goal setting. This future enhancement will further solidify HadadaHealth's position as a leader in integrated healthcare solutions.</p>
      </div>
      <div class="card">
        <span class="eyebrow">Early Adopters</span>
        <h3>Help Shape HadadaHealth</h3>
        <p>Join our early adopter group to test features, provide feedback, and influence what we build next. You’ll get priority onboarding and direct input into clinician‑first workflows.</p>
        <div class="badges">
          <div class="badge">Private beta</div>
          <div class="badge">Feature feedback loops</div>
          <div class="badge">Priority onboarding</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact">
    <div class="container">
      <div class="card" style="display:flex; gap:18px; align-items:center; flex-wrap:wrap">
        <div class="logo" aria-hidden="true" style="width:52px; height:52px">
            <img src="{{ url_for('static', path='Hadada Health Logo-4.svg') }}" alt="Hadada Health Logo" style="width:100%; height:100%">
        </div>
        <div>
          <h3 style="margin:0 0 4px">Contact</h3>
          <p style="margin:0">Duncan Miller • <a href="mailto:duncan@hadadahealth.com">duncan@hadadahealth.com</a> • <a href="tel:+27845612171">+27 84 561 2171</a></p>
        </div>
        <div style="margin-left:auto">
          <a class="btn open-early-modal" href="#" style="background:var(--blue); border:1px solid var(--blue); color:#fff; padding:10px 14px; border-radius:12px; text-decoration:none">Join Early Adopters</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Modal -->
  <div id="contactModal" class="modal-overlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="contactModalTitle">
      <button class="modal-close" aria-label="Close">&times;</button>
      <h3 id="contactModalTitle">Join the Early Adopters</h3>
      <p class="modal-sub">Leave your details and we’ll get in touch to discuss your needs and timelines.</p>
      <form id="contactForm">
        <div class="row">
          <label for="c_name">Full name</label>
          <input id="c_name" name="name" type="text" required />
        </div>
        <div class="row">
          <label for="c_email">Email</label>
          <input id="c_email" name="email" type="email" required />
        </div>
        <div class="row">
          <label for="c_phone">Phone</label>
          <input id="c_phone" name="phone" type="tel" placeholder="+27 ..." />
        </div>
        <div class="row">
          <label for="c_org">Organisation / Practice</label>
          <input id="c_org" name="org" type="text" />
        </div>
        <div class="row">
          <label for="c_msg">Message</label>
          <textarea id="c_msg" name="message" placeholder="What are you hoping HadadaHealth can help with?" ></textarea>
        </div>
        <div class="row">
          <button type="submit" class="btn submit">Send</button>
        </div>
        <div id="contactStatus" class="form-status" role="status" aria-live="polite"></div>
        <small class="disclaimer">We’ll use your details to contact you about HadadaHealth. We don’t share your info.</small>
      </form>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <div class="container foot">
      <small>© <span id="y"></span> HadadaHealth • Built in South Africa</small>
      <div class="badges">
        <div class="badge">POPIA‑aligned</div>
        <div class="badge">Local AI Hosting</div>
        <div class="badge">PWA Offline</div>
      </div>
    </div>
  </footer>

  <script>
    document.getElementById('y').textContent = new Date().getFullYear();

    (function(){
      const onScroll=()=>document.body.classList.toggle('scrolled', window.scrollY>8);
      onScroll(); window.addEventListener('scroll', onScroll, {passive:true});
    })();


// Mobile menu toggle
(function(){
  const toggle = document.querySelector('.nav-toggle');
  const mobileNav = document.querySelector('.mobile-nav');
  const backdrop = document.querySelector('.mobile-nav-backdrop');  // <-- add this
  if(!toggle || !mobileNav) return;
  const close = ()=>{ document.body.classList.remove('menu-open'); toggle.setAttribute('aria-expanded','false'); };
  const open  = ()=>{ document.body.classList.add('menu-open');  toggle.setAttribute('aria-expanded','true');  };

  toggle.addEventListener('click', ()=>{
    const isOpen = document.body.classList.contains('menu-open');
    isOpen ? close() : open();
  });

  // Close when a link is clicked
  mobileNav.addEventListener('click', (e)=>{
    if(e.target.closest('a')) close();
  });

  // Close on ESC
  document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') close(); });
})();

    // Early Adopters modal logic
    (function(){
      const modal = document.getElementById('contactModal');
      const openers = document.querySelectorAll('.open-early-modal');
      const closeBtn = modal.querySelector('.modal-close');
      const form = document.getElementById('contactForm');
      function openModal(e){ if(e) e.preventDefault(); modal.classList.add('active'); modal.setAttribute('aria-hidden','false'); document.body.style.overflow='hidden'; modal.querySelector('input, textarea')?.focus(); }
      function closeModal(){ modal.classList.remove('active'); modal.setAttribute('aria-hidden','true'); document.body.style.overflow=''; }
      openers.forEach(el => el.addEventListener('click', openModal));
      closeBtn.addEventListener('click', closeModal);
      modal.addEventListener('click', (e)=>{ if(e.target === modal) closeModal(); });
      document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closeModal(); });
            // --- SA phone formatting (+27) ---
            function formatSAPhone(raw){
        const d = (raw || '').replace(/\D+/g,'');
        let n = d;
        if (n.startsWith('27')) n = n.slice(2);
        if (n.startsWith('0'))  n = n.slice(1);
        n = n.slice(0, 9); // SA mobile: 9 digits after +27
        const a = n.slice(0,2), b = n.slice(2,5), c = n.slice(5,9);
        const parts = [a,b,c].filter(Boolean);
        const formatted = '+27' + (parts.length ? ' ' + parts.join(' ') : '');
        const e164 = n.length ? '+27' + n : '';
        return { formatted, e164 };
      }
      const phoneInput = document.getElementById('c_phone');
      if (phoneInput){
        const apply = () => { phoneInput.value = formatSAPhone(phoneInput.value).formatted; };
        phoneInput.addEventListener('input', apply);
        phoneInput.addEventListener('blur', apply);
        phoneInput.addEventListener('paste', () => setTimeout(apply, 0));
      }
      form.addEventListener('submit', async (e)=>{
        e.preventDefault();
        const statusEl = document.getElementById('contactStatus');
        const submitBtn = form.querySelector('button[type="submit"]');
        statusEl.textContent = '';

        const name = (document.getElementById('c_name').value||'').trim();
        const email = (document.getElementById('c_email').value||'').trim();
        const rawPhone = (document.getElementById('c_phone')?.value||'').trim();
        const { formatted: phone, e164: phone_e164 } = formatSAPhone(rawPhone);
        const org = (document.getElementById('c_org').value||'').trim();
        const msg = (document.getElementById('c_msg').value||'').trim();

        if (!name || !email){
          statusEl.textContent = 'Please fill in your name and a valid email.';
          statusEl.className = 'form-status error';
          return;
        }

        submitBtn.disabled = true;
        const originalText = submitBtn.textContent;
        submitBtn.textContent = 'Sending…';

        try{
          const res = await fetch('/contact', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ name, email, phone, phone_e164, org, message: msg })
          });
          if (!res.ok){
            const data = await res.json().catch(()=>({}));
            throw new Error(data.detail || 'Unable to send at the moment.');
          }
          statusEl.textContent = "Thanks! We'll be in touch shortly.";
          statusEl.className = 'form-status success';
          form.reset();
          setTimeout(()=>{ statusEl.textContent=''; closeModal(); }, 900);
        } catch(err){
          statusEl.textContent = `Could not send right now. Please email duncan@hadadahealth.com. (${err.message})`;
          statusEl.className = 'form-status error';
        } finally{
          submitBtn.disabled = false;
          submitBtn.textContent = originalText;
        }
      });
    })();
  </script>
</body>
</html>