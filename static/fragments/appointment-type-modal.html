<!-- Appointment Type Selection Modal -->
<div id="appointment-type-modal" class="modal appointment-type-modal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Select Appointment Type</h3>
            <span class="close-button" id="close-appointment-type-modal">&times;</span>
        </div>
        
        <div class="modal-body">
            <div class="modal-description">
                <p>Choose the type of appointment to create. Each type has default settings that can be customized for your practice.</p>
            </div>
            
            <!-- Search/Filter (for future enhancement) -->
            <div class="appointment-type-search" style="display: none;">
                <input type="text" id="appointment-type-search" placeholder="Search appointment types..." />
            </div>
            
            <!-- Appointment Type Tree Container -->
            <div id="appointment-type-tree" class="appointment-type-tree">
                <!-- Tree will be populated by JavaScript -->
                <div class="loading-spinner" id="appointment-type-loading">
                    <div class="spinner"></div>
                    <span>Loading appointment types...</span>
                </div>
            </div>
            
            <!-- Selected Type Preview -->
            <div id="selected-type-preview" class="selected-type-preview" style="display: none;">
                <div class="preview-header">
                    <strong>Selected:</strong>
                </div>
                <div class="preview-content">
                    <div class="preview-type">
                        <span class="preview-color"></span>
                        <span class="preview-name"></span>
                        <span class="preview-duration"></span>
                    </div>
                    <div class="preview-details">
                        <small class="preview-description"></small>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="modal-footer">
            <button id="confirm-appointment-type" class="btn btn-primary" disabled>
                Create Appointment
            </button>
            <button id="cancel-appointment-type" class="btn btn-secondary">
                Cancel
            </button>
        </div>
    </div>
</div>

<!-- Modal Backdrop -->
<div id="appointment-type-modal-backdrop" class="modal-backdrop" style="display: none;"></div>

<!-- Error Modal for Appointment Type Issues -->
<div id="appointment-type-error-modal" class="modal error-modal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header error-header">
            <h3>Error Loading Appointment Types</h3>
            <span class="close-button" id="close-appointment-type-error">&times;</span>
        </div>
        <div class="modal-body">
            <div class="error-icon">⚠️</div>
            <p id="appointment-type-error-message">
                Unable to load appointment types. Please try again or contact support if the problem persists.
            </p>
        </div>
        <div class="modal-footer">
            <button id="retry-appointment-types" class="btn btn-primary">
                Retry
            </button>
            <button id="close-appointment-type-error-btn" class="btn btn-secondary">
                Close
            </button>
        </div>
    </div>
</div>